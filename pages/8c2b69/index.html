<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux常用命令 | 北山小库</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/20230310/logo.3mn8xlqm9oy0.webp">
    <meta name="description" content="小渔村的板砖师傅">
    <meta name="keywords" content="小渔村的板砖师傅">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.b5b3c98c.css" as="style"><link rel="preload" href="/assets/js/app.904b575e.js" as="script"><link rel="preload" href="/assets/js/4.e7bd1c90.js" as="script"><link rel="preload" href="/assets/js/6.afbb3d11.js" as="script"><link rel="preload" href="/assets/js/12.17707fc9.js" as="script"><link rel="prefetch" href="/assets/js/10.6945478a.js"><link rel="prefetch" href="/assets/js/100.2a779b3c.js"><link rel="prefetch" href="/assets/js/101.bc5fecb8.js"><link rel="prefetch" href="/assets/js/102.062cdec4.js"><link rel="prefetch" href="/assets/js/103.dbec977a.js"><link rel="prefetch" href="/assets/js/104.b1753772.js"><link rel="prefetch" href="/assets/js/105.3d7f319e.js"><link rel="prefetch" href="/assets/js/106.7b82910d.js"><link rel="prefetch" href="/assets/js/107.44544bdf.js"><link rel="prefetch" href="/assets/js/108.b77665b2.js"><link rel="prefetch" href="/assets/js/109.d5fbb6e8.js"><link rel="prefetch" href="/assets/js/11.fb36a7ac.js"><link rel="prefetch" href="/assets/js/110.44e74c18.js"><link rel="prefetch" href="/assets/js/111.74c9ab19.js"><link rel="prefetch" href="/assets/js/112.23b86b74.js"><link rel="prefetch" href="/assets/js/113.795e962b.js"><link rel="prefetch" href="/assets/js/114.31fb36da.js"><link rel="prefetch" href="/assets/js/115.c925e5de.js"><link rel="prefetch" href="/assets/js/116.4034fec1.js"><link rel="prefetch" href="/assets/js/117.d5837d90.js"><link rel="prefetch" href="/assets/js/118.35a0783b.js"><link rel="prefetch" href="/assets/js/119.bafc731f.js"><link rel="prefetch" href="/assets/js/120.b8e84bc7.js"><link rel="prefetch" href="/assets/js/121.ef16bfaa.js"><link rel="prefetch" href="/assets/js/122.23588996.js"><link rel="prefetch" href="/assets/js/123.6c4ea425.js"><link rel="prefetch" href="/assets/js/124.f41b98ff.js"><link rel="prefetch" href="/assets/js/125.5b84169c.js"><link rel="prefetch" href="/assets/js/126.a508b9df.js"><link rel="prefetch" href="/assets/js/127.fa0aec2b.js"><link rel="prefetch" href="/assets/js/128.195496a7.js"><link rel="prefetch" href="/assets/js/129.e1b42b65.js"><link rel="prefetch" href="/assets/js/13.5d1ded55.js"><link rel="prefetch" href="/assets/js/130.23a449ea.js"><link rel="prefetch" href="/assets/js/14.89bc9523.js"><link rel="prefetch" href="/assets/js/15.27a86731.js"><link rel="prefetch" href="/assets/js/16.75056a49.js"><link rel="prefetch" href="/assets/js/17.fb21b086.js"><link rel="prefetch" href="/assets/js/18.06c61977.js"><link rel="prefetch" href="/assets/js/19.05b33e62.js"><link rel="prefetch" href="/assets/js/2.f0d541bf.js"><link rel="prefetch" href="/assets/js/20.980f46ee.js"><link rel="prefetch" href="/assets/js/21.ceed90bb.js"><link rel="prefetch" href="/assets/js/22.a430bd3b.js"><link rel="prefetch" href="/assets/js/23.813b1c1c.js"><link rel="prefetch" href="/assets/js/24.91502210.js"><link rel="prefetch" href="/assets/js/25.c7a56378.js"><link rel="prefetch" href="/assets/js/26.632531ba.js"><link rel="prefetch" href="/assets/js/27.d66ad76f.js"><link rel="prefetch" href="/assets/js/28.ba40c04c.js"><link rel="prefetch" href="/assets/js/29.59fdccb1.js"><link rel="prefetch" href="/assets/js/3.b1bb24e3.js"><link rel="prefetch" href="/assets/js/30.22cb0ead.js"><link rel="prefetch" href="/assets/js/31.5a1eaf92.js"><link rel="prefetch" href="/assets/js/32.d3cbdf0a.js"><link rel="prefetch" href="/assets/js/33.23991738.js"><link rel="prefetch" href="/assets/js/34.08a6cbad.js"><link rel="prefetch" href="/assets/js/35.eeb14a3e.js"><link rel="prefetch" href="/assets/js/36.cbb61398.js"><link rel="prefetch" href="/assets/js/37.35bb0422.js"><link rel="prefetch" href="/assets/js/38.21102bf6.js"><link rel="prefetch" href="/assets/js/39.710ecce5.js"><link rel="prefetch" href="/assets/js/40.ff8bb3b2.js"><link rel="prefetch" href="/assets/js/41.5e78020d.js"><link rel="prefetch" href="/assets/js/42.222e9dbc.js"><link rel="prefetch" href="/assets/js/43.a4829946.js"><link rel="prefetch" href="/assets/js/44.06b788c2.js"><link rel="prefetch" href="/assets/js/45.0127c8c2.js"><link rel="prefetch" href="/assets/js/46.031b1f63.js"><link rel="prefetch" href="/assets/js/47.b54792c2.js"><link rel="prefetch" href="/assets/js/48.4140f28e.js"><link rel="prefetch" href="/assets/js/49.20026fa2.js"><link rel="prefetch" href="/assets/js/5.542aed55.js"><link rel="prefetch" href="/assets/js/50.605d74fe.js"><link rel="prefetch" href="/assets/js/51.891286ce.js"><link rel="prefetch" href="/assets/js/52.b4c397d4.js"><link rel="prefetch" href="/assets/js/53.bad721af.js"><link rel="prefetch" href="/assets/js/54.39d5cb1a.js"><link rel="prefetch" href="/assets/js/55.e8342598.js"><link rel="prefetch" href="/assets/js/56.d35de399.js"><link rel="prefetch" href="/assets/js/57.cc3cfbd9.js"><link rel="prefetch" href="/assets/js/58.46afc4dc.js"><link rel="prefetch" href="/assets/js/59.90d505e9.js"><link rel="prefetch" href="/assets/js/60.dde87546.js"><link rel="prefetch" href="/assets/js/61.1096a40e.js"><link rel="prefetch" href="/assets/js/62.d7c0d1ad.js"><link rel="prefetch" href="/assets/js/63.95188b90.js"><link rel="prefetch" href="/assets/js/64.cf897751.js"><link rel="prefetch" href="/assets/js/65.d9c412f2.js"><link rel="prefetch" href="/assets/js/66.51b8a8a5.js"><link rel="prefetch" href="/assets/js/67.48562705.js"><link rel="prefetch" href="/assets/js/68.9a5151bd.js"><link rel="prefetch" href="/assets/js/69.d7a0a47c.js"><link rel="prefetch" href="/assets/js/7.c219b612.js"><link rel="prefetch" href="/assets/js/70.db01358b.js"><link rel="prefetch" href="/assets/js/71.6570724c.js"><link rel="prefetch" href="/assets/js/72.dafb0bd3.js"><link rel="prefetch" href="/assets/js/73.93162e6b.js"><link rel="prefetch" href="/assets/js/74.25acad62.js"><link rel="prefetch" href="/assets/js/75.c731b97b.js"><link rel="prefetch" href="/assets/js/76.08478551.js"><link rel="prefetch" href="/assets/js/77.898ae9aa.js"><link rel="prefetch" href="/assets/js/78.4d5475e9.js"><link rel="prefetch" href="/assets/js/79.3f6642d0.js"><link rel="prefetch" href="/assets/js/8.2d2df189.js"><link rel="prefetch" href="/assets/js/80.22643ab0.js"><link rel="prefetch" href="/assets/js/81.d307ef9e.js"><link rel="prefetch" href="/assets/js/82.8e1fb8a3.js"><link rel="prefetch" href="/assets/js/83.38bc2c7d.js"><link rel="prefetch" href="/assets/js/84.14f1ae54.js"><link rel="prefetch" href="/assets/js/85.f7acfc8f.js"><link rel="prefetch" href="/assets/js/86.10a3c308.js"><link rel="prefetch" href="/assets/js/87.41f8f72c.js"><link rel="prefetch" href="/assets/js/88.dfa949d5.js"><link rel="prefetch" href="/assets/js/89.060c6f73.js"><link rel="prefetch" href="/assets/js/9.b407a22c.js"><link rel="prefetch" href="/assets/js/90.ed0ecab4.js"><link rel="prefetch" href="/assets/js/91.d00083fb.js"><link rel="prefetch" href="/assets/js/92.98322d64.js"><link rel="prefetch" href="/assets/js/93.e8cf1169.js"><link rel="prefetch" href="/assets/js/94.0837c7c3.js"><link rel="prefetch" href="/assets/js/95.f058b6db.js"><link rel="prefetch" href="/assets/js/96.006550fd.js"><link rel="prefetch" href="/assets/js/97.a95a7265.js"><link rel="prefetch" href="/assets/js/98.e2f6f8c8.js"><link rel="prefetch" href="/assets/js/99.83eb031f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b5b3c98c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><!----> <span class="title" style="display:;">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24110/" class="nav-link">2024.1.1.0</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24111/" class="nav-link">2024.1.1.1</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24120/" class="nav-link">2024.1.2.0</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24130/" class="nav-link">2024.1.3.0</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><!----> <span class="title" style="display:;">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/deploy/" class="nav-link">Deploy</a></li><li class="dropdown-item"><!----> <a href="/note/application/" class="nav-link">Application</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友情链接</a></div> <a href="https://github.com/ok1996" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/20230310/logo.3mn8xlqm9oy0.webp"> <div class="blogger-info"><h3>Xiao ku</h3> <span>板砖师傅</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开源项目" class="dropdown-title"><!----> <span class="title" style="display:;">开源项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24110/" class="nav-link">2024.1.1.0</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24111/" class="nav-link">2024.1.1.1</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24120/" class="nav-link">2024.1.2.0</a></li><li class="dropdown-item"><!----> <a href="/pages/8e9dc3p24130/" class="nav-link">2024.1.3.0</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术分类" class="dropdown-title"><!----> <span class="title" style="display:;">技术分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/note/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/note/deploy/" class="nav-link">Deploy</a></li><li class="dropdown-item"><!----> <a href="/note/application/" class="nav-link">Application</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友情链接</a></div> <a href="https://github.com/ok1996" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/8c2b69/" aria-current="page" class="active sidebar-link">Linux常用命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查询包含指定内容的文件" class="sidebar-link">查询包含指定内容的文件</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#压缩文件-文件夹命令" class="sidebar-link">压缩文件/文件夹命令</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#scp传输文件" class="sidebar-link">scp传输文件</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#grep" class="sidebar-link">grep</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#清理缓存" class="sidebar-link">清理缓存</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查看当前目录下所有文件大小" class="sidebar-link">查看当前目录下所有文件大小</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查找文件" class="sidebar-link">查找文件</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查看cpu核数" class="sidebar-link">查看cpu核数</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查看处理器" class="sidebar-link">查看处理器</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#查看操作系统" class="sidebar-link">查看操作系统</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#替换文本内容" class="sidebar-link">替换文本内容</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#测试服务器之间网络带宽" class="sidebar-link">测试服务器之间网络带宽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/8c2b69/#监测服务器之间网络带宽" class="sidebar-link">监测服务器之间网络带宽</a></li><li class="sidebar-sub-header level3"><a href="/pages/8c2b69/#监测进入本机流量峰值" class="sidebar-link">监测进入本机流量峰值</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#测试io性能" class="sidebar-link">测试IO性能</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#安装vnc远程联接linux" class="sidebar-link">安装vnc远程联接linux</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#systemctl命令" class="sidebar-link">systemctl命令</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#后台执行脚本" class="sidebar-link">后台执行脚本</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#下载需要的rpm软件包" class="sidebar-link">下载需要的rpm软件包</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#个性化login信息" class="sidebar-link">个性化login信息</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#swap交换空间" class="sidebar-link">swap交换空间</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#修改ssh默认22端口" class="sidebar-link">修改ssh默认22端口</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#挂载磁盘" class="sidebar-link">挂载磁盘</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#服务器重启异常问题" class="sidebar-link">服务器重启异常问题</a></li><li class="sidebar-sub-header level2"><a href="/pages/8c2b69/#linux代理" class="sidebar-link">linux代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/8c2b69/#服务端-拥有外网权限" class="sidebar-link">服务端（拥有外网权限）</a></li><li class="sidebar-sub-header level4"><a href="/pages/8c2b69/#squid-conf" class="sidebar-link">squid.conf</a></li><li class="sidebar-sub-header level4"><a href="/pages/8c2b69/#squid-conf-2" class="sidebar-link">squid.conf</a></li><li class="sidebar-sub-header level4"><a href="/pages/8c2b69/#squid配置文件解析" class="sidebar-link">squid配置文件解析</a></li><li class="sidebar-sub-header level4"><a href="/pages/8c2b69/#启动squid服务" class="sidebar-link">启动squid服务</a></li><li class="sidebar-sub-header level3"><a href="/pages/8c2b69/#客户端-无外网权限" class="sidebar-link">客户端（无外网权限）</a></li></ul></li></ul></li><li><a href="/pages/e9b41d/" class="sidebar-link">玩客云刷高版本Linux</a></li><li><a href="/pages/0d3d62/" class="sidebar-link">端口映射</a></li><li><a href="/pages/152f6b/" class="sidebar-link">安装Ubuntu</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/note/linux/#Linux" data-v-06970110>Linux</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="https://github.com/ok1996" target="_blank" title="作者" class="beLink" data-v-06970110>xiaoku</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-03-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux常用命令<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="查询包含指定内容的文件"><a href="#查询包含指定内容的文件" class="header-anchor">#</a> 查询包含指定内容的文件</h2> <p>例<br>
查询当前目录下的所有文件是否有包含match文本内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>grep -r &quot;match&quot; ./
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="压缩文件-文件夹命令"><a href="#压缩文件-文件夹命令" class="header-anchor">#</a> 压缩文件/文件夹命令</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>压缩文件
zip file.conf.zip  file.conf
压缩文件夹
zip -r file_backup.zip   .   点表示当前目录
解压文件
unzip file.conf.zip
解压文件到指定目录
unzip file.conf.zip -d  /data/bak
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>解压：[＊＊＊＊＊＊＊]$ tar zxvf FileName.tar.gz
压缩：[＊＊＊＊＊＊＊]$ tar zcvf FileName.tar.gz DirName
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="scp传输文件"><a href="#scp传输文件" class="header-anchor">#</a> scp传输文件</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>scp  -P 22  openresty.tar root@192.168.122.32:/data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="grep"><a href="#grep" class="header-anchor">#</a> grep</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>历史筛选关键字（eg：yum）
history |grep 'yum'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="清理缓存"><a href="#清理缓存" class="header-anchor">#</a> 清理缓存</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>查看缓存的命令
　　free -m
清理缓存的命令　
　　　  echo 1 &gt; /proc/sys/vm/drop_caches
          echo 2 &gt; /proc/sys/vm/drop_caches
          echo 3 &gt; /proc/sys/vm/drop_caches
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="查看当前目录下所有文件大小"><a href="#查看当前目录下所有文件大小" class="header-anchor">#</a> 查看当前目录下所有文件大小</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>du -sh * | sort -n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="查找文件"><a href="#查找文件" class="header-anchor">#</a> 查找文件</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>find / -name 'wenben.txt'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="查看cpu核数"><a href="#查看cpu核数" class="header-anchor">#</a> 查看cpu核数</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code> cat /proc/cpuinfo | grep &quot;cpu cores&quot; | uniq
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="查看处理器"><a href="#查看处理器" class="header-anchor">#</a> 查看处理器</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="查看操作系统"><a href="#查看操作系统" class="header-anchor">#</a> 查看操作系统</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>cat /etc/redhat-release
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="替换文本内容"><a href="#替换文本内容" class="header-anchor">#</a> 替换文本内容</h2> <p>把当前目录下docker-compose.yml文件所有192.168.50.68内容替换成192.168.50.12</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sed  -i 's/192.168.50.68/192.168.50.12/g' docker-compose.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当替换的内容存在/关键字时使用#替换原来/<br>
例如。把/data/test1替换成/view</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sed  -i 's#/data/test1#/view#g' docker-compose.yml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>若要替换变量，则使用双引号</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sed  -i &quot;s/kudemo/${serviceName}/g&quot; ${serviceName}.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="测试服务器之间网络带宽"><a href="#测试服务器之间网络带宽" class="header-anchor">#</a> 测试服务器之间网络带宽</h2> <h3 id="监测服务器之间网络带宽"><a href="#监测服务器之间网络带宽" class="header-anchor">#</a> 监测服务器之间网络带宽</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>从官网下载相应版本。
https://iperf.fr/iperf-download.php
centos7 安装

rpm -i iperf3-3.1.3-1.fc24.x86_64.rpm

ubuntu18.04安装

sudo dpkg -i libiperf0_3.1.3-1_amd64.deb iperf3_3.1.3-1_amd64.deb
-----------------------------------------------------------------------
使用
服务端：iperf3 -s

客户端：iperf3 -c 10.0.3.147 -n 1000000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="监测进入本机流量峰值"><a href="#监测进入本机流量峰值" class="header-anchor">#</a> 监测进入本机流量峰值</h3> <p>脚本</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>链接：https://pan.baidu.com/s/16tzr3soYk6-uDP4XsaQ1Lg 
提取码：kc4q 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>命令执行 ./network-analysis.sh</p> <h2 id="测试io性能"><a href="#测试io性能" class="header-anchor">#</a> 测试IO性能</h2> <p>测试方法：
a.测试磁盘的IO写速度</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>time dd if=/dev/zero of=test.dbf bs=8k count=300000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果要测试实际速度 还要在末尾加上 oflag=direct测到的才是真实的IO速度
b.测试磁盘的IO读速度</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dd if=test.dbf bs=8k count=300000 of=/dev/null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每次写入/读取8k的数据，执行300000次</p> <p>dd命令可以通用，但不够专业，也没有考虑到缓存和物理读的区分，测试的数据也是仅作参考，不能算是权威。不是一个专业的测试工具，不过如果对于测试结果的要求不是很苛刻的话,平时可以使用来对磁盘的读写速度作一个简单的评估</p> <h2 id="安装vnc远程联接linux"><a href="#安装vnc远程联接linux" class="header-anchor">#</a> 安装vnc远程联接linux</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum -y install tigervnc-server.x86_64
启动vnc（：9 == 5909）
vncserver :9
vncserver -kill :9 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="systemctl命令"><a href="#systemctl命令" class="header-anchor">#</a> systemctl命令</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.启动nfs服务

systemctl start nfs-server.service
2.设置开机自启动

systemctl enable nfs-server.service
3.停止开机自启动

systemctl disable nfs-server.service
4.查看服务当前状态

systemctl status nfs-server.service
5.重新启动某服务

systemctl restart nfs-server.service
6.查看所有已启动的服务

systemctl list -units --type=service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="后台执行脚本"><a href="#后台执行脚本" class="header-anchor">#</a> 后台执行脚本</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>setsid ./test.sh &amp;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="下载需要的rpm软件包"><a href="#下载需要的rpm软件包" class="header-anchor">#</a> 下载需要的rpm软件包</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#离线环境，提前在有网络的服务器上下载好需要的软件包
yum -y install nfs-utils --downloadonly --downloaddir /home/nfs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="个性化login信息"><a href="#个性化login信息" class="header-anchor">#</a> 个性化login信息</h2> <p>修改以下脚本可修改login时的系统提示文本。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /etc/update-motd.d
ll
total 20
drwxr-xr-x  2 root root 4096 Nov 11 02:16 ./
drwxr-xr-x 99 root root 4096 Nov  8 02:31 ../
-rwxr-xr-x  1 root root 1220 Nov 11 02:09 00-header*
-rwxr-xr-x  1 root root 1478 Nov 11 02:16 10-help-text*
-rwxr-xr-x  1 root root 1158 Apr 19  2012 99-footer*
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>header文件提供了头部的显示信息，默认为操作的系统的版本等信息。<br>
help-text显示的为主要的文本信息，里面可以包括一些警告等。<br>
footer为文件结尾。<br>
以上均为shell脚本。可以修改后下次一个新的session请求过来后生效。</p> <h2 id="swap交换空间"><a href="#swap交换空间" class="header-anchor">#</a> swap交换空间</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>(1)创建分区1G大小文件：dd if=/dev/zero of=/swapfile bs=1k count=1024000。
(2)使用 mkswap 命令来设置交换分区
mkswap /swapfile。
启用交换分区
(3)swapon /swapfile。
(4)如果需要每次系统重启后自动挂载交换分区，就需要修改/etc/fstab文件，新增内容：/swapfile swap swap defaults 0 0。由于我们只是本次编译到用，所以不设置。
(5)编译完成后，关闭交换分区：swapoff /swapfile。
(6)删除交换分区：rm /swapfile。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="修改ssh默认22端口"><a href="#修改ssh默认22端口" class="header-anchor">#</a> 修改ssh默认22端口</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim /etc/ssh/sshd_config
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>按i进入编辑模式，把#Port 22 修改成 Port 及对应端口号。如 Port 22001。改好后按esc，再输入:wq保存）</p> <p><img src="/assets/img/note.fsqt0qyn8e0.9bebb5f6.png" alt="note"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>service sshd restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="挂载磁盘"><a href="#挂载磁盘" class="header-anchor">#</a> 挂载磁盘</h2> <p>挂载磁盘时候遇到: mount: /dev/vdb is write-protected, mounting read-only
<img src="/assets/img/note.5fmnk4y1z380.7603792d.png" alt="note"></p> <p>需要格式化磁盘（不是刚分区的磁盘慎用，防止格式化）</p> <p>mkfs.ext4  /dev/vdb
<img src="/assets/img/note.7l8gztgs9sg0.5c192c3e.png" alt="note"></p> <h2 id="服务器重启异常问题"><a href="#服务器重启异常问题" class="header-anchor">#</a> 服务器重启异常问题</h2> <p>Read-only file system
问题描述：cd / 然后按tab键出现错误
<img src="data:image/png;base64,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" alt="note"></p> <p>mount 查看所有挂载，发现根目录的挂载权限是ro只读</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/dev/mapper/vg-lv_root on / type ext4 (ro,relatime,seclabel,data=ordered)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行命令</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  mount -o remount,rw /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>就正常了</p> <p>操作截图：
<img src="/assets/img/note.1tuqfq3lbjk0.8a67970b.png" alt="note"></p> <h2 id="linux代理"><a href="#linux代理" class="header-anchor">#</a> linux代理</h2> <h3 id="服务端-拥有外网权限"><a href="#服务端-拥有外网权限" class="header-anchor">#</a> 服务端（拥有外网权限）</h3> <h4 id="squid-conf"><a href="#squid-conf" class="header-anchor">#</a> squid.conf</h4> <p>cat /etc/squid/squid.conf</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>  #
# Recommended minimum configuration:
#

# Example rule allowing access from your local networks.
# Adapt to list your (internal) IP networks from where browsing
# should be allowed
acl localnet src 10.0.0.0/8     # RFC1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines

acl SSL_ports port 443
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl CONNECT method CONNECT

#
# Recommended minimum Access Permission configuration:
#
# Deny requests to certain unsafe ports
http_access deny !Safe_ports

# Deny CONNECT to other than secure SSL ports
http_access deny CONNECT !SSL_ports

# Only allow cachemgr access from localhost
http_access allow localhost manager
http_access deny manager

# We strongly recommend the following be uncommented to protect innocent
# web applications running on the proxy server who think the only
# one who can access services on &quot;localhost&quot; is a local user
#http_access deny to_localhost

#
# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS
#

# Example rule allowing access from your local networks.
# Adapt localnet in the ACL section to list your (internal) IP networks
# from where browsing should be allowed
http_access allow localnet
http_access allow localhost

# And finally deny all other access to this proxy
# http_access deny all
http_access allow all

# Squid normally listens to port 3128
http_port 3128

# Uncomment and adjust the following to add a disk cache directory.
#cache_dir ufs /var/spool/squid 100 16 256

# Leave coredumps in the first cache dir
coredump_dir /var/spool/squid


#
# Add any of your own refresh_pattern entries above these.
#
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h4 id="squid-conf-2"><a href="#squid-conf-2" class="header-anchor">#</a> squid.conf</h4> <p>cat /etc/httpd/conf.d/squid.conf</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> #
# Recommended minimum configuration:
#

# Example rule allowing access from your local networks.
# Adapt to list your (internal) IP networks from where browsing
# should be allowed
acl localnet src 10.0.0.0/8     # RFC1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC1918 possible internal network
acl localnet src fc00::/7       # RFC 4193 local private network range
acl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines

acl SSL_ports port 443
acl Safe_ports port 80          # http
acl Safe_ports port 21          # ftp
acl Safe_ports port 443         # https
acl Safe_ports port 70          # gopher
acl Safe_ports port 210         # wais
acl Safe_ports port 1025-65535  # unregistered ports
acl Safe_ports port 280         # http-mgmt
acl Safe_ports port 488         # gss-http
acl Safe_ports port 591         # filemaker
acl Safe_ports port 777         # multiling http
acl CONNECT method CONNECT

#
# Recommended minimum Access Permission configuration:
#
# Deny requests to certain unsafe ports
http_access deny !Safe_ports

# Deny CONNECT to other than secure SSL ports
http_access deny CONNECT !SSL_ports

# Only allow cachemgr access from localhost
http_access allow localhost manager
http_access deny manager

# We strongly recommend the following be uncommented to protect innocent
# web applications running on the proxy server who think the only
# one who can access services on &quot;localhost&quot; is a local user
#http_access deny to_localhost

#
# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS
#

# Example rule allowing access from your local networks.
# Adapt localnet in the ACL section to list your (internal) IP networks
# from where browsing should be allowed
http_access allow localnet
http_access allow localhost

# And finally deny all other access to this proxy
# http_access deny all
http_access allow all

# Squid normally listens to port 3128
http_port 3128

# Uncomment and adjust the following to add a disk cache directory.
#cache_dir ufs /var/spool/squid 100 16 256

# Leave coredumps in the first cache dir
coredump_dir /var/spool/squid


#
# Add any of your own refresh_pattern entries above these.
#
refresh_pattern ^ftp:           1440    20%     10080
refresh_pattern ^gopher:        1440    0%      1440
refresh_pattern -i (/cgi-bin/|\?) 0     0%      0
refresh_pattern .               0       20%     4320
[root@worker1 ~]# cat /etc/httpd/conf.d/squid.conf

#
# This is /etc/httpd/conf.d/squid.conf
#

ScriptAlias /Squid/cgi-bin/cachemgr.cgi /usr/lib64/squid/cachemgr.cgi

# Only allow access from localhost by default
&lt;Location /Squid/cgi-bin/cachemgr.cgi&gt;
 Require local
 # Add additional allowed hosts as needed
 # Require host example.com
&lt;/Location&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><h4 id="squid配置文件解析"><a href="#squid配置文件解析" class="header-anchor">#</a> squid配置文件解析</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code> #
acl all src 0.0.0.0/0.0.0.0          #允许所有IP访问
acl manager proto http              #manager url协议为http
acl localhost src 127.0.0.1/255.255.255.255  #允午本机IP
acl to_localhost dst 127.0.0.1                 #允午目的地址为本机IP
acl CONNECT method CONNECT        #请求方法以CONNECT
#http_access allow all                #允许所有人使用该代理.
#http_reply_access allow all                #允许所有客户端使用该代理

acl Safe_ports port 80          # 允许安全更新的端口为80
acl Safe_ports port 443        #允许安全更新的端口为443

acl localnet src 10.195.249.225     #
acl localnet src 10.195.236.141     #

http_access allow localnet           #
http_access deny !Safe_ports           #


acl OverConnLimit maxconn 16        #限制每个IP最大允许16个连接，防止攻击
http_access deny OverConnLimit

icp_access deny all                        #禁止从邻居服务器缓冲内发送和接收ICP请求.
miss_access allow all                #允许直接更新请求
ident_lookup_access deny all                                #禁止lookup检查DNS
http_port 8080 transparent                                #指定Squid监听浏览器客户请求的端口号。

hierarchy_stoplist cgi-bin ?                #用来强制某些特定的对象不被缓存，主要是处于安全的目的。
acl QUERY urlpath_regex cgi-bin \?
cache deny QUERY

cache_mem 1 GB        #这是一个优化选项，增加该内存值有利于缓存。应该注意的是：
                     #一般来说如果系统有内存，设置该值为(n/)3M。现在是3G 所以这里1G
fqdncache_size 1024        #FQDN 高速缓存大小
maximum_object_size_in_memory 2 MB        #允许最大的文件载入内存

memory_replacement_policy heap LFUDA  #动态使用最小的，移出内存cache
cache_replacement_policy heap LFUDA         #动态使用最小的，移出硬盘cache

cache_dir ufs /home/cache 5000 32 512  #高速缓存目录 ufs 类型 使用的缓冲值最大允午1000MB空间，
#32个一级目录，512个二级目录

max_open_disk_fds 0                                 #允许最大打开文件数量,0 无限制
minimum_object_size 1 KB                         #允午最小文件请求体大小
maximum_object_size 20 MB                 #允午最大文件请求体大小

cache_swap_low 90                            #最小允许使用swap 90%
cache_swap_high 95                            #最多允许使用swap 95%

ipcache_size 2048                                # IP 地址高速缓存大小 2M
ipcache_low 90                                #最小允许ipcache使用swap 90%
ipcache_high 95                                  #最大允许ipcache使用swap 90%


access_log /var/log/squid/access.log squid        #定义日志存放记录
cache_log /var/log/squid/cache.log squid
cache_store_log none                        #禁止store日志

emulate_httpd_log on        #将使Squid仿照Web服务器的格式创建访问记录。如果希望使用
                                #Web访问记录分析程序，就需要设置这个参数。

refresh_pattern . 0 20% 4320 override-expire override-lastmod reload-into-ims ignore-reload   #更新cache规则

acl buggy_server url_regex ^http://.... http://          #只允许http的请求
broken_posts allow buggy_server

acl apache rep_header Server ^Apache                 #允许apache的编码
broken_vary_encoding allow apache

request_entities off                                        #禁止非http的标分准请求，防止攻击
header_access header allow all                        #允许所有的http报头
relaxed_header_parser on                                #不严格分析http报头.
client_lifetime 120 minute                                #最大客户连接时间 120分钟

cache_mgr sky@test.com                        #指定当缓冲出现问题时向缓冲管理者发送告警信息的地址信息。

cache_effective_user squid                        #这里以用户squid的身份Squid服务器
cache_effective_group squid

icp_port 0                       #指定Squid从邻居服务器缓冲内发送和接收ICP请求的端口号。
                     #这里设置为0是因为这里配置Squid为内部Web服务器的加速器，
                     #所以不需要使用邻居服务器的缓冲。0是禁用

# cache_peer 设置允许更新缓存的主机，因是本机所以127.0.0.1
cache_peer 127.0.0.1 parent 80 0 no-query default multicast-responder no-netdb-exchange
cache_peer_domain 127.0.0.1                                 
hostname_aliases 127.0.0.1

error_directory /usr/share/squid/errors/Simplify_Chinese        #定义错误路径

always_direct allow all                # cache丢失或不存在是允许所有请求直接转发到原始服务器
ignore_unknown_nameservers on        #开反DNS查询，当域名地址不相同时候，禁止访问
coredump_dir  /var/log/squid                 #定义dump的目录

max_filedesc 2048                #最大打开的文件描述

half_closed_clients off        #使Squid在当read不再返回数据时立即关闭客户端的连接。
                                #有时read不再返回数据是由于某些客户关闭TCP的发送数据
                                #而仍然保持接收数据。而Squid分辨不出TCP半关闭和完全关闭。

buffered_logs on #若打开选项“buffered_logs”可以稍稍提高加速某些对日志文件的写入，该选项主要是实现优化特性。#    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div><p>此处参考：https://www.cnblogs.com/he-ding/p/10038264.html</p> <h4 id="启动squid服务"><a href="#启动squid服务" class="header-anchor">#</a> 启动squid服务</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code> service squid start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="客户端-无外网权限"><a href="#客户端-无外网权限" class="header-anchor">#</a> 客户端（无外网权限）</h3> <p>vi /etc/profile</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> # vi /etc/profile
http_proxy=http://192.168.20.20:3128       # 分别指定http、https、ftp协议使用的代理服务器地址
https_proxy=http://192.168.20.20:3128
ftp_proxy=http://192.168.20.20:3128
no_proxy=192.168.20.        # 访问局域网地址（192.168.20.0/24网段）时不使用代理，可以用逗号分隔多个地址
export http_proxy https_proxy ftp_proxy no_proxy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>保存退出，注销重新登陆系统即可生效</p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/03/10, 10:08:26</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/e9b41d/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">玩客云刷高版本Linux</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/e9b41d/">玩客云刷高版本Linux</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer">
     Copyright © 2019-2024
    <span></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.904b575e.js" defer></script><script src="/assets/js/4.e7bd1c90.js" defer></script><script src="/assets/js/6.afbb3d11.js" defer></script><script src="/assets/js/12.17707fc9.js" defer></script>
  </body>
</html>
