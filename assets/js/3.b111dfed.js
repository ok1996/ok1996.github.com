(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{288:function(s,a,t){s.exports=t.p+"assets/img/image-19.2032f737.png"},289:function(s,a,t){s.exports=t.p+"assets/img/image-34.6eb19525.png"},290:function(s,a,t){s.exports=t.p+"assets/img/image-53-1024x318.1c29846c.png"},291:function(s,a,t){s.exports=t.p+"assets/img/image-54-1024x383.35e22a53.png"},292:function(s,a,t){s.exports=t.p+"assets/img/image-56-1024x456.fc6093b3.png"},293:function(s,a,t){s.exports=t.p+"assets/img/image-57-1024x493.ab1bef1c.png"},294:function(s,a,t){s.exports=t.p+"assets/img/image-58-1024x578.eb1729d8.png"},396:function(s,a,t){s.exports=t.p+"assets/img/image-27-1024x336.1ee8af05.png"},397:function(s,a,t){s.exports=t.p+"assets/img/image-69-1024x413.6933e94c.png"},398:function(s,a,t){s.exports=t.p+"assets/img/image-16.53b8c1a1.png"},399:function(s,a,t){s.exports=t.p+"assets/img/image-17-854x1024.ff9da00a.png"},400:function(s,a,t){s.exports=t.p+"assets/img/image-18-1024x63.b436638b.png"},401:function(s,a,t){s.exports=t.p+"assets/img/image-20.2df47382.png"},402:function(s,a,t){s.exports=t.p+"assets/img/image-21.8ce36337.png"},403:function(s,a,t){s.exports=t.p+"assets/img/image-22-1024x351.249ac26e.png"},404:function(s,a,t){s.exports=t.p+"assets/img/image-24-1024x153.a5c20fbd.png"},405:function(s,a,t){s.exports=t.p+"assets/img/image-26.55c6f5cd.png"},406:function(s,a,t){s.exports=t.p+"assets/img/image-28.dda6936f.png"},407:function(s,a,t){s.exports=t.p+"assets/img/image-29-1024x874.ec365602.png"},408:function(s,a,t){s.exports=t.p+"assets/img/image-2-1024x434.4a56d7f6.png"},409:function(s,a,t){s.exports=t.p+"assets/img/image-3-1024x390.00669e8a.png"},410:function(s,a,t){s.exports=t.p+"assets/img/image-4-1024x375.d6f321a8.png"},411:function(s,a,t){s.exports=t.p+"assets/img/image-31-1024x498.4f455447.png"},412:function(s,a,t){s.exports=t.p+"assets/img/image-32-1024x413.cee54d74.png"},413:function(s,a,t){s.exports=t.p+"assets/img/image-33-1024x476.9750f0ea.png"},414:function(s,a,t){s.exports=t.p+"assets/img/image-1024x401.27caa4c1.png"},415:function(s,a,t){s.exports=t.p+"assets/img/image-36-1024x484.fbcb23a4.png"},416:function(s,a,t){s.exports=t.p+"assets/img/image-37-1024x482.faca584e.png"},417:function(s,a,t){s.exports=t.p+"assets/img/image-38-1024x459.40317157.png"},418:function(s,a,t){s.exports=t.p+"assets/img/image-39.962a425c.png"},419:function(s,a,t){s.exports=t.p+"assets/img/image-40-1024x378.65a6ece3.png"},420:function(s,a,t){s.exports=t.p+"assets/img/image-41-1024x487.9a1c95a3.png"},421:function(s,a,t){s.exports=t.p+"assets/img/image-42-1024x334.34b2d572.png"},422:function(s,a,t){s.exports=t.p+"assets/img/image-43-1024x121.2c91a001.png"},423:function(s,a,t){s.exports=t.p+"assets/img/image-45.ccd7d693.png"},424:function(s,a,t){s.exports=t.p+"assets/img/image-47-1024x495.a289a7e8.png"},425:function(s,a,t){s.exports=t.p+"assets/img/image-48.a2b1eccc.png"},426:function(s,a,t){s.exports=t.p+"assets/img/image-49-1024x110.dba67279.png"},427:function(s,a,t){s.exports=t.p+"assets/img/image-44-1024x496.39fb4279.png"},428:function(s,a,t){s.exports=t.p+"assets/img/image-1-1024x333.146d06a1.png"},429:function(s,a,t){s.exports=t.p+"assets/img/image-2-1024x403.0450ded9.png"},430:function(s,a,t){s.exports=t.p+"assets/img/image-3-1024x253.68c51cd9.png"},431:function(s,a,t){s.exports=t.p+"assets/img/image-4.6db99958.png"},432:function(s,a,t){s.exports=t.p+"assets/img/image-6-1024x356.1e65b03c.png"},433:function(s,a,t){s.exports=t.p+"assets/img/image-12-1024x491.52a04278.png"},434:function(s,a,t){s.exports=t.p+"assets/img/image-13-1024x340.295d6ee3.png"},435:function(s,a,t){s.exports=t.p+"assets/img/image-14.e1a54dd2.png"},436:function(s,a,t){s.exports=t.p+"assets/img/image-15.149eb4b4.png"},437:function(s,a,t){s.exports=t.p+"assets/img/image-11-1024x393.fb517ced.png"},438:function(s,a,t){s.exports=t.p+"assets/img/image-17-1024x479.b1e1cf44.png"},439:function(s,a,t){s.exports=t.p+"assets/img/image-18.d5de7868.png"},440:function(s,a,t){s.exports=t.p+"assets/img/image-20-1024x480.10c30415.png"},441:function(s,a,t){s.exports=t.p+"assets/img/image-21-1024x165.a3db1ec4.png"},442:function(s,a,t){s.exports=t.p+"assets/img/image-23-1024x359.1a77f1d3.png"},443:function(s,a,t){s.exports=t.p+"assets/img/image-24.c9069d42.png"},444:function(s,a,t){s.exports=t.p+"assets/img/image-25.23b191dc.png"},445:function(s,a,t){s.exports=t.p+"assets/img/image-26-1024x701.7bdafa8f.png"},446:function(s,a,t){s.exports=t.p+"assets/img/image-31-1024x447.9b41f1e2.png"},447:function(s,a,t){s.exports=t.p+"assets/img/image-28-1024x478.318fbf99.png"},448:function(s,a,t){s.exports=t.p+"assets/img/image-29-1024x479.07e3431c.png"},449:function(s,a,t){s.exports=t.p+"assets/img/image-30-1024x160.b1863ea1.png"},450:function(s,a,t){s.exports=t.p+"assets/img/image-32-1024x290.981054b3.png"},451:function(s,a,t){s.exports=t.p+"assets/img/image-33-1024x324.6f70e126.png"},452:function(s,a,t){s.exports=t.p+"assets/img/image-35.2b401510.png"},453:function(s,a,t){s.exports=t.p+"assets/img/image-37.b90c3881.png"},454:function(s,a,t){s.exports=t.p+"assets/img/image-38-1024x454.20b5d93b.png"},455:function(s,a,t){s.exports=t.p+"assets/img/image-41.51afda83.png"},456:function(s,a,t){s.exports=t.p+"assets/img/image-39-1024x410.2a154bdc.png"},457:function(s,a){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAx0AAAC5CAYAAABN/FL2AAAbLklEQVR4Ae3dz4sc550H4PxPdZqDwBAw+KCT5mKBIGYPawJqMEQYLHKwWQjKpZmDcHDQBmGWXSWH9ITECmt8cCKD0RKGDhhsWOywMBA5EwwCkwwIvsvb9aOrqqtHPWN1d9X0MyCmuvqtet963hK8n3nrx/ei4+frb552rLWKAAECBAgQIECAAAEC5xf4XtcmQkeXinUECBAgQIAAAQIECFxEQOi4iJptCBAgQIAAAQIECBBYWUDoWJlKQQIECBAgQIAAAQIELiIgdFxEzTYECBAgQIAAAQIECKwsIHSsTKUgAQIECBAgQIAAAQIXERA6LqJmGwIECBAgQIAAAQIEVhYQOlamUpAAAQIECBAgQIAAgYsICB0XUbMNAQIECBAgQIAAAQIrCwgdK1MpSIAAAQIECBAgQIDARQSEjouo2YYAAQIECBAgQIAAgZUFhI6VqRQkQIAAAQIECBAgQOAiAkLHRdRsQ4AAAQIECBAgQIDAygJCx8pUChIgQIAAAQIECBAgcBEBoeMiarYhQIAAAQIECBAgQGBlAaFjZSoFCRAgQIAAAQIECBC4iIDQcRE12xAgQIAAAQIECBAgsLLABkLHNMZZFlmWxfio1q6j8WxdWl//t/fK9bj+ozvx/uE0Tp7VyleLS/aXvn92HJOb+f723pjEcef21Y4sECBAgAABAgQIECCwAYHehY56AMmuXI/xJycthmWh4zSmB/t5gLk2jum3rc18JECAAAECBAgQIEBgKwI9CB3jmNYP/fRpHB89iHde3StmQPZjfHRaK9EdOo4PR7GXZk2ujGJyXCtukQABAgQIECBAgACBrQr0L3SUHM+O40FxqVR27V58Xl0q1RE6vrgX+7PLtNoBpdyZ3wQIECBAgAABAgQIbEugv6EjiXx2L67OwsTVuPdFSdQKHd9OY3wt3cexF6NDUxylkt8ECBAgQIAAAQIE+iLQ79AR84AxOizv7ZivG//PcUzeyC/D2j+YRv0irL4AawcBAgQIECBAgACBXRfoeeg4qZ5G1RU6XvvBa/l9H//6wJOqdv1MdvwECBAgQIAAAQK9Feh56PgyHtzIH4HbFTreORi7l6O3p5aGESBAgAABAgQIEMgFNhg69uLun2vs1Xs6Wk+vqhWJ00dxp3iPx51PyounapdXHUV8/u/FY3I9taouZ5kAAQIECBAgQIBAbwTWHzqq4DCKyZPaca8QOk4/uZM/Bje7FQ+/Kbdtho7ZCwGL+zoy7+cokfwmQIAAAQIECBAg0BuB9YeO6glUd+JROVmRDv95oePkUdy5ml9atf9u/SbxVuhI+6qeYJWFN5H35tzSEAIECBAgQIAAAQIzgfWGjm8eF4+zzWLv7Y/iaR19Wej49jimh+N47UoeOPb+5V583ni7eEfoiIjTP98t7u/IwpOs6tCWCRAgQIAAAQIECGxXYA2hY/7Eqay4H6PzLeFV6MjDRVW23Cbbi+v/NokvG4EjYXWHjvRN9VZy7+zY7lmldgIECBAgQIAAAQI1gbWEjodv5u/OyK68HK/9+P14XL5io1bx/PKqeujYi5dffT1uvzuJx1815kVqWy4PHRGnMT0obizPvJ28hmaRAAECBAgQIECAwNYE1hA6tnYsKiZAgAABAgQIECBAoIcCQkcPO0WTCBAgQIAAAQIECFwmAaHjMvWmYyFAgAABAgQIECDQQwGho4edokkECBAgQIAAAQIELpOA0HGZetOxECBAgAABAgQIEOihgNDRw07RJAIECBAgQIAAAQKXSUDouEy96VgIECBAgAABAgQI9FBgLaHjL3/5S/jHwDngHHAOOAecA84B54BzwDngHEjnwFpCRw/DlSYRIECAAAECBAgQILAlAaFjS/CqJUCAAAECBAgQILArAkLHrvS04yRAgAABAgQIECCwJQGhY0vwqiVAgAABAgQIECCwKwJCx670tOMkQIAAAQIECBAgsCUBoWNL8KolQIAAAQIECBAgsCsCQseu9LTjJECAAAECBAgQILAlAaFjS/CqJUCAAAECBAgQILArAkLHrvS04yRAgAABAgQIECCwJQGhY0vwqiVAgAABAgQIECCwKwJCx670tOMkQIAAAQIECBAgsCUBoWNL8KolQIAAAQIECBAgsCsCQseu9LTjJECAAAECBAgQILAlAaFjS/CqJUCAAAECBAgQILArAkLHrvS04yRAgAABAgQIECCwJQGhY0vwqiVAgAABAgQIECCwKwJCx670tOMkQIAAAQIECBAgsCWBSxw6pjHORjF5cpZsvcxJTG62y6d1WYyPztqH7wgQIECAAAECBAgQOEtgvaHjySRGWRajw5O8DUfjyLKs9u+l2P/h7Xj/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"},458:function(s,a,t){s.exports=t.p+"assets/img/image-42-1024x354.9f524aa4.png"},459:function(s,a,t){s.exports=t.p+"assets/img/image-43-1024x311.1707c407.png"},460:function(s,a,t){s.exports=t.p+"assets/img/image-44-1024x398.a698f424.png"},461:function(s,a,t){s.exports=t.p+"assets/img/image-45-1024x448.4e624805.png"},462:function(s,a,t){s.exports=t.p+"assets/img/image-46-1024x634.0e594510.png"},463:function(s,a,t){s.exports=t.p+"assets/img/image-47-1024x498.25a04dde.png"},464:function(s,a,t){s.exports=t.p+"assets/img/image-48-1024x644.5f4896f7.png"},465:function(s,a,t){s.exports=t.p+"assets/img/image-52.c758ca22.png"},466:function(s,a,t){s.exports=t.p+"assets/img/image-60-1024x493.b4bbef3a.png"},467:function(s,a,t){s.exports=t.p+"assets/img/image-61.73e6443b.png"},468:function(s,a,t){s.exports=t.p+"assets/img/image-62-1024x418.969d50bc.png"},469:function(s,a,t){s.exports=t.p+"assets/img/image-1-1024x598.c091eff5.png"},470:function(s,a,t){s.exports=t.p+"assets/img/image-63.2065fc62.png"},471:function(s,a,t){s.exports=t.p+"assets/img/image-64-1024x788.4db6144e.png"},472:function(s,a,t){s.exports=t.p+"assets/img/image-65-1024x486.4c7b018c.png"},473:function(s,a,t){s.exports=t.p+"assets/img/image-66-1024x462.5496b423.png"},474:function(s,a,t){s.exports=t.p+"assets/img/image-67-1024x483.ef96b2d0.png"},475:function(s,a,t){s.exports=t.p+"assets/img/image-70-1024x476.c5632b95.png"},476:function(s,a,t){s.exports=t.p+"assets/img/image-71-1024x340.4f20c4e1.png"},477:function(s,a,t){s.exports=t.p+"assets/img/image-68-1024x468.a00c4acb.png"},478:function(s,a,t){s.exports=t.p+"assets/img/image-73-1024x437.c985ee5a.png"},632:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[s._v("#")]),s._v(" 架构")]),s._v(" "),a("p",[a("img",{attrs:{src:t(396),alt:""}})]),s._v(" "),a("p",[s._v("流程图")]),s._v(" "),a("p",[a("img",{attrs:{src:t(397),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"部署k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署k8s"}},[s._v("#")]),s._v(" 部署K8S")]),s._v(" "),a("p",[s._v("半离线部署")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("系统版本：CentOS Linux release 7.9.2009 (Core)  \nKubernetes：1.17.1  \nDocker：18.06.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"部署包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署包"}},[s._v("#")]),s._v(" 部署包")]),s._v(" "),a("p",[s._v("地址")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("链接：https://pan.baidu.com/s/1pMiSfbz48ZQSwmPGC43RQA \n提取码：xnh3 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"部署步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署步骤"}},[s._v("#")]),s._v(" 部署步骤")]),s._v(" "),a("h4",{attrs:{id:"安装master-201"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装master-201"}},[s._v("#")]),s._v(" 安装Master（201）")]),s._v(" "),a("p",[s._v("在master节点上执行。"),a("br"),s._v("\n上传k8sOfflineSetup20210720.zip文件到root目录下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("scp k8sOfflineSetup20210720.zip root@192.168.213.201:/root\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解压到/root（解压路径不能修改）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unzip k8sOfflineSetup20210720.zip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("设置参数并安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# master节点的主机名\nexport HOSTNAME=k8s-master\n# kubernetes apiserver的主机地址\nexport APISERVER_NAME=apiserver.k8s.com\n# 集群中master节点的ip地址\nexport MASTER_IP=192.168.213.201\n# Pod 使用的网段\nexport POD_SUBNET=10.11.10.0/16\n\ncd /root/k8sOfflineSetup\n./setup_master.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("img",{attrs:{src:t(398),alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(399),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"安装worker-202"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装worker-202"}},[s._v("#")]),s._v(" 安装Worker（202）")]),s._v(" "),a("p",[s._v("在worker节点上执行。"),a("br"),s._v("\n上传k8sOfflineSetup20210720.zip文件到root目录下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("scp k8sOfflineSetup20210720.zip root@192.168.213.202:/root\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解压到/root（解压路径不能修改）")]),s._v(" "),a("p",[s._v("unzip k8sOfflineSetup20210720.zip")]),s._v(" "),a("p",[s._v("获取加入master的参数（是在master节点上执行。）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 在 master 节点执行\nkubeadm token create --print-join-command\n\n# 得到token和cert，这两个参数在2个小时内可以重复使用，超过以后就得再次生成\nkubeadm join apiserver.k8s.com:6443 --token t8rn2w.zwfd42edrro02c50     --discovery-token-ca-cert-hash sha256:fe343cc72e449988acf789ba1c47fe83c7f80534fb7e0770f1fbe9b3facdbadb\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("img",{attrs:{src:t(400),alt:""}})]),s._v(" "),a("p",[s._v("设置参数并安装"),a("br"),s._v("\n在worker节点上执行。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# worker节点的主机名\nexport HOSTNAME=k8s-worker202\n# kubernetes apiserver的主机地址\nexport APISERVER_NAME=apiserver.k8s.com\n# 集群中master节点的ip地址\nexport MASTER_IP=192.168.213.201\n# 加入master的token\nexport TOKEN=t8rn2w.zwfd42edrro02c50\n# 加入master的证书\nexport export CERT=sha256:fe343cc72e449988acf789ba1c47fe83c7f80534fb7e0770f1fbe9b3facdbadb\ncd /root/k8sOfflineSetup\n./setup_worker.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("img",{attrs:{src:t(288),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"安装worker-203"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装worker-203"}},[s._v("#")]),s._v(" 安装Worker（203）")]),s._v(" "),a("p",[s._v("在worker节点上执行。"),a("br"),s._v("\n上传k8sOfflineSetup20210720.zip文件到root目录下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("scp k8sOfflineSetup20210720.zip root@192.168.213.203:/root\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解压到/root（解压路径不能修改）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("unzip k8sOfflineSetup20210720.zip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("设置参数并安装（token之类已获得，一样便可）"),a("br"),s._v("\n在worker节点上执行。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# worker节点的主机名\nexport HOSTNAME=k8s-worker203\n# kubernetes apiserver的主机地址\nexport APISERVER_NAME=apiserver.k8s.com\n# 集群中master节点的ip地址\nexport MASTER_IP=192.168.213.201\n# 加入master的token\nexport TOKEN=t8rn2w.zwfd42edrro02c50\n# 加入master的证书\nexport export CERT=sha256:fe343cc72e449988acf789ba1c47fe83c7f80534fb7e0770f1fbe9b3facdbadb\ncd /root/k8sOfflineSetup\n./setup_worker.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[a("img",{attrs:{src:t(401),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"完成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完成"}},[s._v("#")]),s._v(" 完成")]),s._v(" "),a("p",[s._v("现在你可以在master节点，执行kubectl get nodes看到所有节点都在线了。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("kubectl get nodes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(402),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"访问kuboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问kuboard"}},[s._v("#")]),s._v(" 访问Kuboard")]),s._v(" "),a("p",[s._v("Kuboard是一个非常方便的web管理界面，安装完以后可以通过http://任意节点IP:32567/访问。"),a("br"),s._v("\n详细使用请参考 "),a("a",{attrs:{href:"http://www.kuboard.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("www.kuboard.cn"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:t(403),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"获取登陆token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取登陆token"}},[s._v("#")]),s._v(" 获取登陆Token")]),s._v(" "),a("p",[s._v("在 Master 节点上执行此命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("kubectl -n kube-system get secret $(kubectl -n kube-system get secret | grep kuboard-user | awk '{print $1}') -o go-template='{{.data.token}}' | base64 -d\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"访问kubernetes-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问kubernetes-dashboard"}},[s._v("#")]),s._v(" 访问Kubernetes Dashboard")]),s._v(" "),a("h2",{attrs:{id:"部署nfs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署nfs"}},[s._v("#")]),s._v(" 部署NFS")]),s._v(" "),a("p",[s._v("服务端IP：192.168.213.203")]),s._v(" "),a("p",[s._v("服务点目录：/data/share")]),s._v(" "),a("h3",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),a("p",[s._v("因为每台K8S都可能需要使用到挂载，故每台都需要安装")]),s._v(" "),a("p",[s._v("（192.168.213.201-203）")]),s._v(" "),a("p",[s._v("安装命令：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum -y install nfs-utils  rpcbind \n\n# nfs 启动\n# 为rpcbind和nfs做开机启动\nsystemctl enable rpcbind.service\nsystemctl enable nfs-server.service\n\n#启动相关软件\nsystemctl start rpcbind.service\nsystemctl start nfs-server.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_203服务端配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_203服务端配置"}},[s._v("#")]),s._v(" 203服务端配置")]),s._v(" "),a("p",[s._v("创建共享文件夹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir -p /data/share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("nfs 配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vi /etc/exports\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("修改配置文件，增加下面这一行数据，指定的ip地址为客户端的地址,地址可以是一个网段（如：192.168.0.0/24）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/data/share 192.168.213.0/24(rw,no_root_squash,no_all_squash,sync)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("加载配置文件，在相关软件启动后执行")]),s._v(" "),a("p",[s._v("exportfs -arv")]),s._v(" "),a("p",[a("img",{attrs:{src:t(404),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_201客户端测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_201客户端测试"}},[s._v("#")]),s._v(" 201客户端测试")]),s._v(" "),a("p",[s._v("创建共享文件夹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mkdir -p /home/nfs_share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在你的 NFS 服务器设定妥当之后，我们可以在 client端先自我测试一下是否可以联机喔！利用 showmount 这个指令来查阅！")]),s._v(" "),a("p",[s._v("如果报：clnt_create: RPC: Port mapper failure - Unable to receive: errno 113 (No route to host)，可能防火墙没关")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("showmount -e 192.168.213.203\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("挂载测试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mount -t nfs 192.168.213.203:/data/share /home/nfs_share \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看挂载情况，可以使用这个命令df -TH")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("df -TH\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("卸载")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("umount /home/nfs_share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"部署harbor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署harbor"}},[s._v("#")]),s._v(" 部署Harbor")]),s._v(" "),a("p",[s._v("部署包官方地址：https://github.com/goharbor/harbor/releases")]),s._v(" "),a("p",[s._v("个人下载地址")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("链接：https://pan.baidu.com/s/1kmEPizetpsoF82FRdH3I9w \n提取码：a4nh \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("IP：192.168.213.204"),a("br"),s._v("\n账号：admin"),a("br"),s._v("\n密码：Harbor12345"),a("br"),s._v("\n访问地址：http://192.168.213.204:20480")]),s._v(" "),a("h3",{attrs:{id:"安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装docker")]),s._v(" "),a("p",[s._v("安装docker及docker-compose")]),s._v(" "),a("h3",{attrs:{id:"安装harbor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装harbor"}},[s._v("#")]),s._v(" 安装harbor")]),s._v(" "),a("h4",{attrs:{id:"上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传"}},[s._v("#")]),s._v(" 上传")]),s._v(" "),a("p",[s._v("上传harbor-offline-installer-v2.2.3.tgz文件到/data目录")]),s._v(" "),a("h4",{attrs:{id:"解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[s._v("#")]),s._v(" 解压")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("tar xzvf  harbor-offline-installer-v2.2.3.tgz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"新建文件harbor-yml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新建文件harbor-yml"}},[s._v("#")]),s._v(" 新建文件harbor.yml")]),s._v(" "),a("p",[s._v("内容复制harbor.yml.tmpl"),a("br"),s._v("\n修改 hostname: 192.168.213.204 为本机IP"),a("br"),s._v("\n端口"),a("br"),s._v("\n修改数据存储地址/data/harbor/data"),a("br"),s._v("\n注释https")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /data/harbor\nvi harbor.yml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("harbor.yml")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("hostname: 192.168.213.204 \n\nhttp:\n  port: 20480\n\nharbor_admin_password: Harbor12345\n\ndatabase:\n  password: root123\n  max_idle_conns: 50\n  max_open_conns: 1000\n\ndata_volume: /data/harbor/data\n\ntrivy:\n  ignore_unfixed: false\n  skip_update: false\n  insecure: false\n\njobservice:\n  max_job_workers: 10\n\nnotification:\n  webhook_job_max_retry: 10\n\nchart:\n  absolute_url: disabled\n\nlog:\n  level: info\n  local:\n    rotate_count: 50\n    rotate_size: 200M\n    location: /var/log/harbor\n_version: 2.2.0\n\nproxy:\n  http_proxy:\n  https_proxy:\n  no_proxy:\n  components:\n    - core\n    - jobservice\n    - trivy\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("h4",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("p",[s._v("./install.sh")]),s._v(" "),a("h4",{attrs:{id:"启动成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动成功"}},[s._v("#")]),s._v(" 启动成功")]),s._v(" "),a("p",[s._v("查看一下"),a("br"),s._v("\ndocker-compose ps")]),s._v(" "),a("h2",{attrs:{id:"部署gitlab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署gitlab"}},[s._v("#")]),s._v(" 部署GitLab")]),s._v(" "),a("p",[s._v("使用docker-compose.yml便可")]),s._v(" "),a("p",[s._v("页面访问地址：http://192.168.213.204:8929")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("version: '3'\nservices:\n  gitlab:\n    image: 'gitlab/gitlab-ce:14.0.6-ce.0'\n    container_name: gitlab\n    restart: always\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'http://192.168.213.204:8929' #若有域名可以写域名\n        gitlab_rails['gitlab_shell_ssh_port'] = 2224\n    ports:\n      - '8929:8929'\n      - '2224:22'\n    volumes:\n      #将相关配置映射到当前目录下的config目录\n      - './config:/etc/gitlab'\n      #将日志映射到当前目录下的logs目录\n      - './logs:/var/log/gitlab'\n      #将数据映射到当前目录下的data目录\n      - './data:/var/opt/gitlab'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("登录账号：root")]),s._v(" "),a("p",[s._v("登录密码：在服务启动后，查看config/initial_root_password文件")]),s._v(" "),a("p",[s._v("限制内存及时区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'http://106.55.159.125:8929' #若有域名可以写域名\n        gitlab_rails['gitlab_shell_ssh_port'] = 2224\n        puma['per_worker_max_memory_mb'] = 1024 #更改内存限制设置\n        gitlab_rails['time_zone'] = 'Asia/Shanghai'\n        puma['worker_processes'] = 2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("参考文档：https://docs.gitlab.com/ee/administration/operations/puma.html")]),s._v(" "),a("h3",{attrs:{id:"内存问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内存问题"}},[s._v("#")]),s._v(" 内存问题")]),s._v(" "),a("p",[s._v("如果使用阿里云或腾讯云只有2G内存时，可以增加Swap内存")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("dd if=/dev/zero of=/swapfile bs=1k count=4816000\nmkswap /swapfile\nswapon /swapfile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("修改docker-compose,设置内存上限和swap内存")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("version: '2.3'\nservices:\n  gitlab:\n    image: 'gitlab/gitlab-ce:14.0.6-ce.0'\n    container_name: gitlab\n    restart: always\n    environment:\n      GITLAB_OMNIBUS_CONFIG: |\n        external_url 'http://192.168.213.204:8929' #若有域名可以写域名\n        gitlab_rails['gitlab_shell_ssh_port'] = 2224\n        puma['per_worker_max_memory_mb'] = 256 #更改内存限制设置\n        gitlab_rails['time_zone'] = 'Asia/Shanghai'\n        puma['worker_processes'] = 2\n    ports:\n      - '8929:8929'\n      - '2224:22'\n    volumes:\n      #将相关配置映射到当前目录下的config目录\n      - './config:/etc/gitlab'\n      #将日志映射到当前目录下的logs目录\n      - './logs:/var/log/gitlab'\n      #将数据映射到当前目录下的data目录\n      - './data:/var/opt/gitlab'\n    mem_limit: 1024m\n    memswap_limit: 4000m\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("h2",{attrs:{id:"部署jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署jenkins"}},[s._v("#")]),s._v(" 部署Jenkins")]),s._v(" "),a("p",[s._v("由于原生镜像没有安装maven，故我们重新写一个Dockerfile生成镜像")]),s._v(" "),a("p",[s._v("Dockerfile")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("FROM jenkins/jenkins:2.303-centos7\nUSER root\nRUN yum install -y maven\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("执行命令生成 镜像")]),s._v(" "),a("p",[s._v("cd 到dockerfiel文件目录下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker build -t jenkins/jenkins:2.303-centos7-mvn ./\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用docker-compose.yml便可，docker目录挂载是为了在容器中使用docker命令")]),s._v(" "),a("p",[s._v("访问地址：http://192.168.213.204:7080")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("version: '3'\nservices:\n  jenkins:\n    image: 'jenkins/jenkins:2.303-centos7-mvn'\n    container_name: jenkins\n    restart: always\n    user: root\n    ports:\n      - '7080:8080'\n      - '7050:50000'\n    volumes:\n      - './jenkins_home:/var/jenkins_home'\n      - '/var/run/docker.sock:/var/run/docker.sock'\n      - '/usr/bin/docker:/usr/bin/docker'\n    extra_hosts: \n      - \"apiserver.k8s.com:192.168.213.201\"\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[s._v("登录密码：在服务启动后，查看jenkins_home/secrets/initialAdminPassword文件")]),s._v(" "),a("h2",{attrs:{id:"docker配置harbor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker配置harbor"}},[s._v("#")]),s._v(" Docker配置Harbor")]),s._v(" "),a("p",[s._v("201到204服务器均修改")]),s._v(" "),a("h3",{attrs:{id:"修改docker-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改docker-service"}},[s._v("#")]),s._v(" 修改docker.service")]),s._v(" "),a("p",[s._v("修改/etc/systemd/system/docker.service")]),s._v(" "),a("p",[s._v("将ExecStart=/usr/bin/dockerd改为")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ExecStart=/usr/bin/dockerd --insecure-registry 192.168.213.204:20480\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(405),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"重启docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重启docker"}},[s._v("#")]),s._v(" 重启docker")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl daemon-reload\nsystemctl restart docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"登录docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录docker"}},[s._v("#")]),s._v(" 登录docker")]),s._v(" "),a("p",[s._v("docker login 192.168.213.204:20480\n输入账号密码\n账号：admin\n密码：Harbor12345")]),s._v(" "),a("h3",{attrs:{id:"上传镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传镜像"}},[s._v("#")]),s._v(" 上传镜像")]),s._v(" "),a("p",[s._v("先在Harbor中创建项目，例：imdemo")]),s._v(" "),a("p",[s._v("将本地镜像打标签，并上传")]),s._v(" "),a("p",[s._v("例：本地镜像原标签imtest:2.11.12")]),s._v(" "),a("p",[s._v("docker tag imtest:2.11.12 192.168.213.204:20480/imdemo/imtesth:2.11.12")]),s._v(" "),a("p",[s._v("推送镜像")]),s._v(" "),a("p",[s._v("docker push 192.168.213.204:20480/imdemo/imtesth:2.11.12")]),s._v(" "),a("h2",{attrs:{id:"初始化jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化jenkins"}},[s._v("#")]),s._v(" 初始化Jenkins")]),s._v(" "),a("p",[s._v("使用管理员账号登录后，修改管理员信息：")]),s._v(" "),a("p",[s._v("登录名：wuxiaoku\n账号：admin\n密码：Wuxiaoku123")]),s._v(" "),a("h3",{attrs:{id:"安装推荐的插件及账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装推荐的插件及账号"}},[s._v("#")]),s._v(" 安装推荐的插件及账号")]),s._v(" "),a("p",[a("img",{attrs:{src:t(406),alt:""}})]),s._v(" "),a("p",[s._v("设置账号，更新密码,填写邮件地址，此处用户名为昵称，登录时使用admin")]),s._v(" "),a("p",[a("img",{attrs:{src:t(407),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"安装其他插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装其他插件"}},[s._v("#")]),s._v(" 安装其他插件")]),s._v(" "),a("p",[s._v("打开  “系统管理” =》“管理插件” 然后安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Kubernetes Continuous Deploy\nKubernetes\nGitlab Hook \nGitLab\nBuild Authorization Token\nMaven Repository Server\nMaven Integration\nPublish Over SSH\nDocker plugin\nSSH Pipeline Steps\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("点击安装")]),s._v(" "),a("p",[a("img",{attrs:{src:t(289),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"初始化harbor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化harbor"}},[s._v("#")]),s._v(" 初始化Harbor")]),s._v(" "),a("h3",{attrs:{id:"创建用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[s._v("#")]),s._v(" 创建用户")]),s._v(" "),a("p",[s._v("帐号：wuxiaoku\n密码：Wuxiaoku123")]),s._v(" "),a("p",[a("img",{attrs:{src:t(408),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[s._v("#")]),s._v(" 创建项目")]),s._v(" "),a("p",[a("img",{attrs:{src:t(409),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"增加成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#增加成员"}},[s._v("#")]),s._v(" 增加成员")]),s._v(" "),a("p",[s._v("点击进去项目")]),s._v(" "),a("p",[a("img",{attrs:{src:t(410),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"初始化gitlab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化gitlab"}},[s._v("#")]),s._v(" 初始化GitLab")]),s._v(" "),a("p",[s._v("使用管理员账号登录后，新增账号：")]),s._v(" "),a("p",[s._v("账号：wuxiaoku\n密码：Wuxiaoku123")]),s._v(" "),a("h3",{attrs:{id:"创建账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建账号"}},[s._v("#")]),s._v(" 创建账号")]),s._v(" "),a("p",[a("img",{attrs:{src:t(411),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"初始化密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化密码"}},[s._v("#")]),s._v(" 初始化密码")]),s._v(" "),a("p",[s._v("在创建完成账号时，密码是不可填写的，在编辑中，初始化一下密码。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(412),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[s._v("#")]),s._v(" 登录")]),s._v(" "),a("p",[s._v("先重置一下密码，然后保存登录到首页")]),s._v(" "),a("p",[a("img",{attrs:{src:t(413),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"初始化项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目"}},[s._v("#")]),s._v(" 初始化项目")]),s._v(" "),a("h4",{attrs:{id:"创建空项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建空项目"}},[s._v("#")]),s._v(" 创建空项目")]),s._v(" "),a("p",[a("img",{attrs:{src:t(414),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"创建dev分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建dev分支"}},[s._v("#")]),s._v(" 创建dev分支")]),s._v(" "),a("p",[a("img",{attrs:{src:t(415),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"提交项目代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提交项目代码"}},[s._v("#")]),s._v(" 提交项目代码")]),s._v(" "),a("p",[s._v("提交到dev分支")]),s._v(" "),a("p",[s._v("代码：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("链接：https://pan.baidu.com/s/1B2-l8Ahfda2qxbvjmWJdhQ \n提取码：sxo4 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:t(416),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"jenkins配置k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置k8s"}},[s._v("#")]),s._v(" Jenkins配置K8S")]),s._v(" "),a("h3",{attrs:{id:"配置插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置插件"}},[s._v("#")]),s._v(" 配置插件")]),s._v(" "),a("p",[s._v("在jenkins初始化中已经安装了K8S插件，即现在开始配置即可")]),s._v(" "),a("p",[s._v("登录jenkins，在首页点击 Manage Jenkins --\x3e Configure System")]),s._v(" "),a("p",[s._v("将网页拉动到最底下，点击新增一个云，就会出现Kubernetes")]),s._v(" "),a("p",[a("img",{attrs:{src:t(417),alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(418),alt:""}})]),s._v(" "),a("p",[s._v("点击配置")]),s._v(" "),a("p",[a("img",{attrs:{src:t(419),alt:""}})]),s._v(" "),a("p",[s._v("填写Kubernetes地址然后点击测试，会报错")]),s._v(" "),a("p",[s._v("地址为：https://apiserver.k8s.com:6443")]),s._v(" "),a("p",[a("img",{attrs:{src:t(420),alt:""}})]),s._v(" "),a("p",[s._v("报错信息：")]),s._v(" "),a("p",[a("img",{attrs:{src:t(421),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"k8s集群信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s集群信息"}},[s._v("#")]),s._v(" k8s集群信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@k8s-master ~]# kubectl cluster-info\nKubernetes master is running at https://apiserver.k8s.com:6443\nKubeDNS is running at https://apiserver.k8s.com:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\nMetrics-server is running at https://apiserver.k8s.com:6443/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:t(422),alt:""}})]),s._v(" "),a("p",[s._v("根据以上的配置，可以看到，已经是启用https了，这里就涉及到了密钥的问题。")]),s._v(" "),a("h3",{attrs:{id:"创建admin证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建admin证书"}},[s._v("#")]),s._v(" 创建admin证书")]),s._v(" "),a("h4",{attrs:{id:"安装证书工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装证书工具"}},[s._v("#")]),s._v(" 安装证书工具")]),s._v(" "),a("p",[s._v("安装cfssl"),a("br"),s._v("\n此工具生成证书非常方便, pem证书与crt证书,编码一致可直接使用")]),s._v(" "),a("p",[s._v("登录k8s master节点执行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("wget https://pkg.cfssl.org/R1.2/cfssl_linux-amd64\nchmod +x cfssl_linux-amd64\nmv cfssl_linux-amd64 /usr/local/bin/cfssl\n\nwget https://pkg.cfssl.org/R1.2/cfssljson_linux-amd64\nchmod +x cfssljson_linux-amd64\nmv cfssljson_linux-amd64 /usr/local/bin/cfssljson\n\nwget https://pkg.cfssl.org/R1.2/cfssl-certinfo_linux-amd64\nchmod +x cfssl-certinfo_linux-amd64\nmv cfssl-certinfo_linux-amd64 /usr/local/bin/cfssl-certinfo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h4",{attrs:{id:"准备证书签名请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备证书签名请求"}},[s._v("#")]),s._v(" 准备证书签名请求")]),s._v(" "),a("p",[s._v("vi admin-csr.json")]),s._v(" "),a("p",[s._v("内容如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "CN": "admin",\n  "hosts": [],\n  "key": {\n    "algo": "rsa",\n    "size": 2048\n  },\n  "names": [\n    {\n      "C": "CN",\n      "ST": "HangZhou",\n      "L": "XS",\n      "O": "system:masters",\n      "OU": "System"\n    }\n  ]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("证书请求中的O 指定该证书的 Group 为 system:masters")]),s._v(" "),a("p",[s._v("而 RBAC 预定义的 ClusterRoleBinding 将 Group system:masters 与 ClusterRole cluster-admin 绑定，这就赋予了该证书具有所有集群权限 。")]),s._v(" "),a("h4",{attrs:{id:"创建证书和私钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建证书和私钥"}},[s._v("#")]),s._v(" 创建证书和私钥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cfssl gencert -ca=/etc/kubernetes/pki/ca.crt -ca-key=/etc/kubernetes/pki/ca.key --profile=kubernetes admin-csr.json | cfssljson -bare admin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("最终生成以下3个文件：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("admin.csr\nadmin-key.pem\nadmin.pem\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"配置证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置证书"}},[s._v("#")]),s._v(" 配置证书")]),s._v(" "),a("h5",{attrs:{id:"生成pkc格式证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生成pkc格式证书"}},[s._v("#")]),s._v(" 生成pkc格式证书")]),s._v(" "),a("p",[s._v("我们可以通过openssl来转换成pkc格式")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("openssl pkcs12 -export -out ./jenkins-admin.pfx -inkey ./admin-key.pem -in ./admin.pem -passout pass:secret\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将jenkins-admin.pfx 下载至桌面")]),s._v(" "),a("h3",{attrs:{id:"配置jenkins认证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置jenkins认证"}},[s._v("#")]),s._v(" 配置jenkins认证")]),s._v(" "),a("h4",{attrs:{id:"kubernetes-服务证书-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-服务证书-key"}},[s._v("#")]),s._v(" Kubernetes 服务证书 key")]),s._v(" "),a("p",[s._v("使用以下命令查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("root@k8s-master:~# cat /etc/kubernetes/pki/ca.crt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将证书内容填写，点击凭据后面的添加，点击Jenkins")]),s._v(" "),a("p",[a("img",{attrs:{src:t(423),alt:""}})]),s._v(" "),a("p",[s._v("得到"),a("code",[s._v("jenkins-admin.pfk")]),s._v("文件后，点击Jenkins配置Credentials后面的Add，配置如下")]),s._v(" "),a("p",[s._v("上传证书")]),s._v(" "),a("p",[a("img",{attrs:{src:t(424),alt:""}})]),s._v(" "),a("p",[s._v("选择文件 jenkins-admin.pfk")]),s._v(" "),a("p",[s._v("输入密码 secret，后面的内容可以不填写，点击添加。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(425),alt:""}})]),s._v(" "),a("p",[s._v("选择 凭据，点击连接测试。")]),s._v(" "),a("p",[s._v("出现Connected to Kubernetes v1.17.1 表示连接成功。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(426),alt:""}})]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("p",[a("img",{attrs:{src:t(427),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"gitlab-jenkins配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-jenkins配置"}},[s._v("#")]),s._v(" GitLab+Jenkins配置")]),s._v(" "),a("h3",{attrs:{id:"gitlab与jenkins配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab与jenkins配置"}},[s._v("#")]),s._v(" GitLab与Jenkins配置")]),s._v(" "),a("h4",{attrs:{id:"设置jenkins-用户ssh秘钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置jenkins-用户ssh秘钥"}},[s._v("#")]),s._v(" 设置jenkins 用户ssh秘钥")]),s._v(" "),a("p",[s._v("使用Root登录GitLab，点击用户名称")]),s._v(" "),a("p",[a("img",{attrs:{src:t(428),alt:""}})]),s._v(" "),a("p",[s._v("点击 Impersonate ，表示冒充jenkins 用户")]),s._v(" "),a("p",[a("img",{attrs:{src:t(429),alt:""}})]),s._v(" "),a("p",[s._v("点击编辑")]),s._v(" "),a("p",[a("img",{attrs:{src:t(430),alt:""}})]),s._v(" "),a("p",[s._v("点击 ssh keys")]),s._v(" "),a("p",[a("img",{attrs:{src:t(431),alt:""}})]),s._v(" "),a("p",[s._v("登录到jenkins服务器（204），生成秘钥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('ssh-keygen -t rsa -P "" -f ~/.ssh/id_rsa\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看公钥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat /root/.ssh/id_rsa.pub\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将公钥内容复制到网页，点击添加秘钥")]),s._v(" "),a("p",[a("img",{attrs:{src:t(432),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"创建access-tokens"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建access-tokens"}},[s._v("#")]),s._v(" 创建Access Tokens")]),s._v(" "),a("p",[s._v("点击左侧的Access Tokens，输入用户 wuxiaoku，勾选权限，点击创建")]),s._v(" "),a("p",[a("img",{attrs:{src:t(433),alt:""}})]),s._v(" "),a("p",[s._v("复制token，待会 jenkins 设置时，会用到")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MXMnxpwMLAgiP9zyS5dp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(434),alt:""}})]),s._v(" "),a("p",[s._v("点击进入你的项目")]),s._v(" "),a("p",[a("img",{attrs:{src:t(435),alt:""}})]),s._v(" "),a("p",[s._v("点击项目")]),s._v(" "),a("p",[a("img",{attrs:{src:t(436),alt:""}})]),s._v(" "),a("p",[s._v("点击设置-成员")]),s._v(" "),a("p",[a("img",{attrs:{src:t(437),alt:""}})]),s._v(" "),a("p",[s._v("把管理员也添加进去，这样管理员也有权限了。如果项目一开始是管理员创建，这时就选择子用户")]),s._v(" "),a("p",[a("img",{attrs:{src:t(438),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"jenkins配置git-gitlab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置git-gitlab"}},[s._v("#")]),s._v(" Jenkins配置Git/GitLab")]),s._v(" "),a("h4",{attrs:{id:"jenkins配置gitlab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置gitlab"}},[s._v("#")]),s._v(" Jenkins配置GitLab")]),s._v(" "),a("p",[s._v("点击 系统管理--\x3e 系统配置 --\x3e配置 --\x3eGitlab")]),s._v(" "),a("p",[a("img",{attrs:{src:t(439),alt:""}})]),s._v(" "),a("p",[s._v("Connection Name ”随便填，“Git Host URL”填GitLab的访问地址，然后点“Add”——“jenkins”，如下所示")]),s._v(" "),a("p",[a("img",{attrs:{src:t(288),alt:""}})]),s._v(" "),a("p",[s._v("选择gitlalb api，输入 jenkins 用户创建的token")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MXMnxpwMLAgiP9zyS5dp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(440),alt:""}})]),s._v(" "),a("p",[s._v("选择 gitlab api token，点击测试连接，出现 Success，表示成功")]),s._v(" "),a("p",[a("img",{attrs:{src:t(441),alt:""}})]),s._v(" "),a("p",[s._v("点击最下面的保存")]),s._v(" "),a("p",[a("img",{attrs:{src:t(442),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"jenkins配置git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置git"}},[s._v("#")]),s._v(" Jenkins配置Git")]),s._v(" "),a("p",[s._v("点击 Manage Jenkins --\x3e Configure System --\x3e配置 --\x3eGit plugin")]),s._v(" "),a("p",[a("img",{attrs:{src:t(443),alt:""}})]),s._v(" "),a("p",[s._v("设置Git插件的全局配置，然后点击最下面的保存。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(444),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"创建一个jenkins-job"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个jenkins-job"}},[s._v("#")]),s._v(" 创建一个Jenkins Job")]),s._v(" "),a("p",[s._v("此处创建用于测试是否正常使用")]),s._v(" "),a("p",[s._v("点击 新建Item，item name”可以随便起，然后点击“构建一个自由风格的软件项目”，点击Ok")]),s._v(" "),a("p",[a("img",{attrs:{src:t(445),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"配置job的源码管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置job的源码管理"}},[s._v("#")]),s._v(" 配置Job的源码管理")]),s._v(" "),a("p",[s._v("选择“源码管理”，选择“Git”,然后去GitLab中复制项目地址，粘贴到“Repository URL”,然后点击“credentials”后面的“Add”按钮")]),s._v(" "),a("p",[a("img",{attrs:{src:t(446),alt:""}})]),s._v(" "),a("p",[s._v("类型，选择 SSH Username with private key")]),s._v(" "),a("p",[s._v("Username 填 root")]),s._v(" "),a("p",[s._v("PrivateKey 选择Enter directly，点击add")]),s._v(" "),a("p",[a("img",{attrs:{src:t(447),alt:""}})]),s._v(" "),a("p",[s._v("登录到jenkins 服务器，查看私钥")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat /root/.ssh/id_rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("将内容复制到网页上面，点击添加")]),s._v(" "),a("p",[a("img",{attrs:{src:t(448),alt:""}})]),s._v(" "),a("p",[s._v("在“credentials”里选择我们刚刚创建的认证方式：root")]),s._v(" "),a("p",[a("img",{attrs:{src:t(449),alt:""}})]),s._v(" "),a("p",[s._v("如果没报错，说明成功了，点击页面底部的“apply”。如果出错了，会在“Repository URL”和“Credentials”之间显示红色的错误信息。")]),s._v(" "),a("p",[s._v("jenkins job默认对master分支进行构建，你也可以自定义分支。这要求你的Gitlab代码仓库中要存在这个分支，一般来说，就是要向代码仓库提交一次更改，请 自行完成（Gitlab项目刚创建时是空的，一个分支也没有，这样的话，自动构建时会出错）")]),s._v(" "),a("p",[s._v("我们上文创建了dev分钟，故选择dev")]),s._v(" "),a("p",[a("img",{attrs:{src:t(450),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"配置job的构建触发器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置job的构建触发器"}},[s._v("#")]),s._v(" 配置Job的构建触发器")]),s._v(" "),a("p",[s._v("选择“构建触发器”，勾选“Pull SCM（轮询 SCM）”，这个选项会每隔一段时间检查一下GitLab仓库中代码是否有更新，有的话就执行构建操作。日程表如何设置，在这个输入框下面有说明")]),s._v(" "),a("p",[a("img",{attrs:{src:t(451),alt:""}})]),s._v(" "),a("p",[s._v("扩展阅读：")]),s._v(" "),a("p",[s._v("常见构建触发器：")]),s._v(" "),a("ul",[a("li",[s._v("Build after other projects are built 当另一个构建任务完成之后触发")]),s._v(" "),a("li",[s._v("Build periodically 周期性的触发")]),s._v(" "),a("li",[s._v("Build when a change is pushed to GitLab. GitLab CI Service URL: http://191.8.2.112:12000/project/test-go-dev 当代码有更新的时候触发，通过GitLab CI")]),s._v(" "),a("li",[s._v("GitHub hook trigger for GITScm polling 通过Github钩子触发")]),s._v(" "),a("li",[s._v("Poll SCM 定期检查代码有无更新，有更新时触发")])]),s._v(" "),a("p",[s._v("这只是个人理解，具体怎么样大家可以试试，Poll SCM方式我是试过的。")]),s._v(" "),a("h4",{attrs:{id:"配置job的构建脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置job的构建脚本"}},[s._v("#")]),s._v(" 配置Job的构建脚本")]),s._v(" "),a("p",[s._v("在build栏目里，选择“jenkins execute shell”,然后输入你项目的构建命令（这依赖于你的项目，如Maven的maven build，gulp的gulp xxx 等等）")]),s._v(" "),a("p",[a("img",{attrs:{src:t(289),alt:""}})]),s._v(" "),a("p",[s._v("这里我输入一段测试命令，表示将git项目的代码复制到/tmp/test")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\\cp -r $WORKSPACE /tmp/test\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("点击 可用的环境变量列表，就可以看到很多变量")]),s._v(" "),a("p",[a("img",{attrs:{src:t(452),alt:""}})]),s._v(" "),a("p",[s._v("其中 WORKSPACE 表示，下载git项目后的路径。")]),s._v(" "),a("p",[s._v("由于git项目为itest，因此路径为：/var/lib/jenkins/workspace/itest")]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("p",[s._v("点击 立即构建，点击下面的构建过程")]),s._v(" "),a("p",[a("img",{attrs:{src:t(453),alt:""}})]),s._v(" "),a("p",[s._v("点击控制台输出，就可以看到完整的cp命令")]),s._v(" "),a("p",[a("img",{attrs:{src:t(454),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"jenkins配置maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置maven"}},[s._v("#")]),s._v(" Jenkins配置maven")]),s._v(" "),a("p",[s._v("我们在生成镜像时已经安装了maven，故这边只要配置即可")]),s._v(" "),a("h3",{attrs:{id:"查看java和maven安装地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看java和maven安装地址"}},[s._v("#")]),s._v(" 查看java和maven安装地址")]),s._v(" "),a("p",[s._v("登录jenkins服务器204")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('docker exec -it jenkins /bin/sh\nmvn -version\n\nApache Maven 3.0.5 (Red Hat 3.0.5-17)\nMaven home: /usr/share/maven\nJava version: 1.8.0\\_292, vendor: AdoptOpenJDK\nJava home: /usr/lib/jvm/adoptopenjdk-8-hotspot/jre\nDefault locale: en\\_US, platform encoding: ANSI\\_X3.4-1968\nOS name: "linux", version: "3.10.0-1160.el7.x86\\_64", arch: "amd64", family: "unix"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("img",{attrs:{src:t(455),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"新增jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增jdk"}},[s._v("#")]),s._v(" 新增JDK")]),s._v(" "),a("p",[s._v("登录到Jenkins管理后台，点击 Manage Jenkins --\x3e Global Tool Configuration")]),s._v(" "),a("p",[a("img",{attrs:{src:t(456),alt:""}})]),s._v(" "),a("p",[s._v("点击 新增jdk")]),s._v(" "),a("p",[a("img",{attrs:{src:t(457),alt:""}})]),s._v(" "),a("p",[s._v("自动安装 前面的勾选，去掉，输入别名和JAVA_HOME")]),s._v(" "),a("p",[a("img",{attrs:{src:t(458),alt:""}})]),s._v(" "),a("p",[s._v("注意：JAVA_HOME的输入框下面，不要有警告或者错误信息，否则就是路径不正确。")]),s._v(" "),a("p",[s._v("使用 mvn -version 命令时，就已经打印了Java home变量，注意：去除最后的jre")]),s._v(" "),a("p",[a("img",{attrs:{src:t(459),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"新增maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增maven"}},[s._v("#")]),s._v(" 新增Maven")]),s._v(" "),a("p",[s._v("点击新增Maven")]),s._v(" "),a("p",[a("img",{attrs:{src:t(460),alt:""}})]),s._v(" "),a("p",[s._v("同样去除自动安装，填写别名")]),s._v(" "),a("p",[a("img",{attrs:{src:t(461),alt:""}})]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("h2",{attrs:{id:"jenkins使用docker命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins使用docker命令"}},[s._v("#")]),s._v(" Jenkins使用docker命令")]),s._v(" "),a("p",[s._v("此处还是为测试任务使用，加深对Jenkins的了解")]),s._v(" "),a("p",[s._v("创建流水线任务")]),s._v(" "),a("p",[a("img",{attrs:{src:t(462),alt:""}})]),s._v(" "),a("p",[s._v("输入pipeline脚本，点击保存")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pipeline {\n    agent any\n    stages {\n        stage('Test') {\n            steps {\n                sh 'docker images'\n            }\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[a("img",{attrs:{src:t(463),alt:""}})]),s._v(" "),a("p",[s._v("立即构建，查看控制台")]),s._v(" "),a("p",[a("img",{attrs:{src:t(464),alt:""}})]),s._v(" "),a("h2",{attrs:{id:"jenkins-harbor-gitlab-k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins-harbor-gitlab-k8s"}},[s._v("#")]),s._v(" Jenkins+Harbor+GitLab+K8S")]),s._v(" "),a("h3",{attrs:{id:"方式一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),a("p",[s._v("缺点：对K8S脚本generateyaml.sh创建模板较死板，我是随便摸索写的测试"),a("br"),s._v("\n个人喜欢方式二")]),s._v(" "),a("h4",{attrs:{id:"k8s创建命名空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s创建命名空间"}},[s._v("#")]),s._v(" K8S创建命名空间")]),s._v(" "),a("p",[s._v("登录Kuboard创建命名空间：imtest")]),s._v(" "),a("p",[a("img",{attrs:{src:t(290),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"k8s创建harbor密码信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s创建harbor密码信息"}},[s._v("#")]),s._v(" K8S创建Harbor密码信息")]),s._v(" "),a("p",[s._v("输入Harbor之前创建的账号密码")]),s._v(" "),a("p",[a("img",{attrs:{src:t(291),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"工程新建脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工程新建脚本"}},[s._v("#")]),s._v(" 工程新建脚本")]),s._v(" "),a("p",[s._v("将脚本放在工程根目录下")]),s._v(" "),a("p",[s._v("脚本：")]),s._v(" "),a("p",[s._v("链接：https://pan.baidu.com/s/1Z73E8sBq9TqYR2sEWiFeZg\n提取码：pkrg")]),s._v(" "),a("p",[s._v("目录结构如下")]),s._v(" "),a("p",[a("img",{attrs:{src:t(465),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"jenkins创建任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins创建任务"}},[s._v("#")]),s._v(" Jenkins创建任务")]),s._v(" "),a("p",[s._v("新建流水线任务：imtest1")]),s._v(" "),a("p",[a("img",{attrs:{src:t(292),alt:""}})]),s._v(" "),a("p",[s._v("构建触发器")]),s._v(" "),a("p",[s._v("*/1 * * * *")]),s._v(" "),a("p",[a("img",{attrs:{src:t(293),alt:""}})]),s._v(" "),a("p",[s._v("流水线")]),s._v(" "),a("p",[a("img",{attrs:{src:t(294),alt:""}})]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("p",[s._v("立即构建-查看日志，第一次会报错。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(466),alt:""}})]),s._v(" "),a("p",[s._v("进入201服务器，执行命令")]),s._v(" "),a("p",[s._v("kubectl apply -f /root/data/app/imdemo.yaml")]),s._v(" "),a("p",[a("img",{attrs:{src:t(467),alt:""}})]),s._v(" "),a("p",[s._v("Jenkins再次构建就成功了，后续代码提交自动构建")]),s._v(" "),a("p",[a("img",{attrs:{src:t(468),alt:""}})]),s._v(" "),a("h3",{attrs:{id:"方式二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),a("p",[s._v("缺点：需要先去创建一次pod"),a("br"),s._v("\n优点：自由配置pod")]),s._v(" "),a("h4",{attrs:{id:"k8s创建命名空间-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s创建命名空间-2"}},[s._v("#")]),s._v(" K8S创建命名空间")]),s._v(" "),a("p",[s._v("登录Kuboard创建命名空间：imtest")]),s._v(" "),a("p",[a("img",{attrs:{src:t(290),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"k8s创建harbor密码信息-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s创建harbor密码信息-2"}},[s._v("#")]),s._v(" K8S创建Harbor密码信息")]),s._v(" "),a("p",[s._v("输入Harbor之前创建的账号密码")]),s._v(" "),a("p",[a("img",{attrs:{src:t(291),alt:""}})]),s._v(" "),a("p",[s._v("地址要用http://ip:端口")]),s._v(" "),a("p",[a("img",{attrs:{src:t(469),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"工程新建脚本-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工程新建脚本-2"}},[s._v("#")]),s._v(" 工程新建脚本")]),s._v(" "),a("p",[s._v("地址：")]),s._v(" "),a("p",[s._v("链接：https://pan.baidu.com/s/1gTttHuYcQgCZUIqmQBjIEQ\n提取码：77rh")]),s._v(" "),a("p",[s._v("目录结构如下")]),s._v(" "),a("p",[a("img",{attrs:{src:t(470),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"jenkins创建任务-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins创建任务-2"}},[s._v("#")]),s._v(" Jenkins创建任务")]),s._v(" "),a("p",[s._v("新建流水线任务：imtest1")]),s._v(" "),a("p",[a("img",{attrs:{src:t(292),alt:""}})]),s._v(" "),a("p",[s._v("构建触发器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("*/1 * * * *\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:t(293),alt:""}})]),s._v(" "),a("p",[s._v("流水线")]),s._v(" "),a("p",[a("img",{attrs:{src:t(294),alt:""}})]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("p",[s._v("立即构建-查看日志，第一次会报错。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(471),alt:""}})]),s._v(" "),a("h4",{attrs:{id:"k8s创建pod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#k8s创建pod"}},[s._v("#")]),s._v(" K8S创建Pod")]),s._v(" "),a("p",[s._v("如图所示，创建服务名称imdemo")]),s._v(" "),a("p",[a("img",{attrs:{src:t(472),alt:""}})]),s._v(" "),a("p",[s._v("点击保存")]),s._v(" "),a("p",[a("img",{attrs:{src:t(473),alt:""}})]),s._v(" "),a("p",[s._v("创建完成")]),s._v(" "),a("p",[a("img",{attrs:{src:t(474),alt:""}})]),s._v(" "),a("p",[s._v("查看CI/CD集成，复制到剪切板")]),s._v(" "),a("p",[a("img",{attrs:{src:t(475),alt:""}})]),s._v(" "),a("p",[s._v("修改Jenkinsfile")]),s._v(" "),a("p",[s._v("将复制的内容替换掉红色方块内容")]),s._v(" "),a("p",[a("img",{attrs:{src:t(476),alt:""}})]),s._v(" "),a("p",[s._v("代码提交自动构建成功")]),s._v(" "),a("p",[a("img",{attrs:{src:t(477),alt:""}})]),s._v(" "),a("p",[s._v("缺陷：后续需要修改的地方")]),s._v(" "),a("p",[s._v("Jenkinsfile文件中镜像版本每次提交需要修改变化，这4个地方")]),s._v(" "),a("p",[a("img",{attrs:{src:t(478),alt:""}})]),s._v(" "),a("p",[s._v("修复缺陷，每次提交不用再修改上文4个标红的地方，使用$BUILD_ID代替")]),s._v(" "),a("p",[s._v("Jenkinsfile")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('pipeline {\n    agent any\n    stages {\n        stage(\'package\') {\n            steps {\n                sh \'mvn clean package\'\n            }\n        }\n        stage(\'buildDockerImages\') {\n            steps {\n                sh \'docker login 192.168.213.204:20480 -u wuxiaoku -p Wuxiaoku123\'\n                sh \'docker build --build-arg app=imdemo.jar -t 192.168.213.204:20480/kudemo/imdemo:$BUILD_ID .\'\n                sh \'docker push 192.168.213.204:20480/kudemo/imdemo:$BUILD_ID\'\n                sh \'docker rmi 192.168.213.204:20480/kudemo/imdemo:$BUILD_ID\'\n            }\n        }\n        stage(\'deploymentK8S\'){\n             steps {\n                 sh """\n                     curl -X PATCH \\\n                     -H "content-type: application/strategic-merge-patch+json" \\\n                     -H "Authorization:Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ikl1SGVIeVY3TEdEeFZ1b3Z4QzU5eEFmU2pacGtVWGlRTHpIQ3hBR3V5NTQifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJrdWJvYXJkLXVzZXItdG9rZW4tcm1zcHoiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoia3Vib2FyZC11c2VyIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiOTE0ZWVlYjUtMmZiOS00YzZmLTg1YzUtZjYzOWFiODZlODJjIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50Omt1YmUtc3lzdGVtOmt1Ym9hcmQtdXNlciJ9.K7h7UrtDcsUNy2GYTznloOPZiWML0ll_zEhd1fUaY0pioTQ-MEPgDdp6rRnZmUm7ujNM_zsjzhS4KTbezSV-1Od0O-yhQrTyrqpvcXBi_EP77s9nDueZ_4fMx76Eh-cZfsOPQxYtG0sufqZmqcM1DWzNHDQcBMmFy1nhDbPncnmiirNrEBSFfrVb-ie6Z33Ip61tZjkYvrW6PeVHXEagTjrHnjmO9zw_L8to9V4pE990vcQrJE3f5pUN94k7JD5EhlJT0j1ljPrhRbpL8m-KjLpypKqfq9i7mj3vXE9_1mEVSi78nGuyR2cBaCLPoV7C3HRUN_dvCdR1tcI6nOLT2Q" \\\n                     -d \'{"spec":{"template":{"spec":{"containers":[{"name":"imdemo","image":"192.168.213.204:20480/kudemo/imdemo:$BUILD_ID"}]}}}}\' \\\n                     "http://192.168.213.201:32567/k8s-api/apis/apps/v1/namespaces/imtest/deployments/web-imdemo"\n                 """\n             }\n        }\n    \n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("参考博客部分内容："),a("br"),s._v("\nhttps://www.jianshu.com/p/fd9f1076ea2d"),a("br"),s._v("\nhttps://www.cnblogs.com/xiao987334176/p/11434849.html")])])}),[],!1,null,null,null);a.default=n.exports}}]);