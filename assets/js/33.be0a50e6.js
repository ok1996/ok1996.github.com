(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{253:function(s,a,e){s.exports=e.p+"assets/img/simple-base-s3-2023-5-1-0.b793b8d2.png"},703:function(s,a,e){"use strict";e.r(a);var n=e(7),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("提供文件管理服务及接口")]),s._v(" "),a("p",[s._v("模块")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("simple-base-s3-api 文件管理服务-客户端：   \n    若只引入客户端需要启动服务端并(配置服务端调用地址 或 开启服务自动发现)  \n\t主要功能：提供调用服务端接口\nsimple-base-s3-service 文件管理服务-服务端：  \n    可直接引入依赖，作为客户端也作为服务端  \n\t主要功能：提供文件管理服务接口 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"依赖关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#依赖关系"}},[s._v("#")]),s._v(" 依赖关系")]),s._v(" "),a("p",[a("img",{attrs:{src:e(253),alt:"依赖关系图"}})]),s._v(" "),a("h2",{attrs:{id:"拆分客户端及服务端使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拆分客户端及服务端使用"}},[s._v("#")]),s._v(" 拆分客户端及服务端使用")]),s._v(" "),a("h3",{attrs:{id:"启动服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动服务端"}},[s._v("#")]),s._v(" 启动服务端")]),s._v(" "),a("p",[s._v("下载代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git clone https://github.com/ok1996/ok-system-simple.git\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("增加启动BaseS3ServiceApplication的vm配置--无需连接Nacos")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Dsimple.s3.accessKey= \n-Dsimple.s3.secretKey= \n-Dsimple.s3.endpoint= \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("若要连接Nacos则再增加配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Dspring.cloud.nacos.server-addr=http://127.0.0.1:8848\n-Dspring.cloud.nacos.username=\n-Dspring.cloud.nacos.password=\n-Dspring.cloud.nacos.discovery.enabled=true\n-Dspring.cloud.nacos.discovery.namespace=\n-Dspring.cloud.nacos.config.enabled=true\n-Dspring.cloud.nacos.config.namespace=\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"引入客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入客户端"}},[s._v("#")]),s._v(" 引入客户端")]),s._v(" "),a("h4",{attrs:{id:"引入依赖-方式1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入依赖-方式1"}},[s._v("#")]),s._v(" 引入依赖-方式1")]),s._v(" "),a("p",[s._v("所需工程使用仅需引入客户端依赖")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <dependencies>\n        <dependency>\n            <groupId>cn.iosd</groupId>\n            <artifactId>simple-base-s3-api</artifactId>\n            <version>Version</version>\n        </dependency>\n    </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"引入依赖-方式2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入依赖-方式2"}},[s._v("#")]),s._v(" 引入依赖-方式2")]),s._v(" "),a("p",[s._v("所需工程使用，引入服务端依赖，并通过配置文件关闭服务端功能，仅使用客户端功能"),a("br"),s._v("\n便于灵活切换启用本身作为服务端")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <dependencies>\n        <dependency>\n            <groupId>cn.iosd</groupId>\n            <artifactId>simple-base-s3-service</artifactId>\n            <version>Version</version>\n        </dependency>\n    </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("配置项-关闭服务端功能")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("simple:\n  scan:\n    ## 关闭service依赖中service服务端，仅使用service依赖中的api客户端\n    service:\n      enabled: false\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项"}},[s._v("#")]),s._v(" 配置项")]),s._v(" "),a("p",[s._v("若要连接Nacos则再增加vm配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Dspring.cloud.nacos.server-addr=http://127.0.0.1:8848\n-Dspring.cloud.nacos.username=\n-Dspring.cloud.nacos.password=\n-Dspring.cloud.nacos.discovery.enabled=true\n-Dspring.cloud.nacos.discovery.namespace=\n-Dspring.cloud.nacos.config.enabled=true\n-Dspring.cloud.nacos.config.namespace=\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("情况1：若工程 或 服务端 没有启用服务发现，则需要在客户端中配置调用服务端的调用地址")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("simple:\n  feign:\n    base:\n      ## simple-base-s3-api\n      s3:\n        # 未开启注册中心需要指定调用地址\n        url: http://localhost:9020\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("情况2：若工程 和 服务端 均启用服务发现，则在客户端中配置调用服务端的调用地址为空即可")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("simple:\n  feign:\n    base:\n      s3:\n        # 未开启注册中心需要指定调用地址\n        url: \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"融合客户端和服务端使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#融合客户端和服务端使用"}},[s._v("#")]),s._v(" 融合客户端和服务端使用")]),s._v(" "),a("p",[s._v("直接引入service依赖即包含客户端和服务端功能")]),s._v(" "),a("h4",{attrs:{id:"引入依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入依赖"}},[s._v("#")]),s._v(" 引入依赖")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    <dependencies>\n        <dependency>\n            <groupId>cn.iosd</groupId>\n            <artifactId>simple-base-s3-service</artifactId>\n            <version>Version</version>\n        </dependency>\n    </dependencies>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"查看服务端接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看服务端接口"}},[s._v("#")]),s._v(" 查看服务端接口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("POST  获取文件列表-首页\nDELETE  删除文件\nPOST  上传文件-返回文件key\nPOST  获取文件列表-下一页\nGET 生成带有预签名的URL，用于私有S3对象的访问\nGET 创建存储桶\nDELETE  删除存储桶\nGET 获取存储桶列表\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);